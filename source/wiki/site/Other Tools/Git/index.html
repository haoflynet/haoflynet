<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Git - 我的Wiki</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Git";
    var mkdocs_page_input_path = "Other Tools/Git.md";
    var mkdocs_page_url = "/Other Tools/Git/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> 我的Wiki</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>code</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/安全测试/">安全测试</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/编码经验/">编码经验</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/代码审查清单/">代码审查清单</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/正则表达式/">正则表达式</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/packages/">packages</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>python</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Django/">Django</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Flask/">Flask</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/kivy/">kivy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/pybrain/">pybrain</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Django/">Django</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/PyQT/">PyQT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/pytest/">pytest</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/python/">python</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Scrapy-PySpider/">Scrapy-PySpider</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Splinter/">Splinter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/string/">string</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Tornado/">Tornado</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>frontend</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/bootstrap/">bootstrap</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/js/">js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/css/">css</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/frontend/">frontend</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/gulp/">gulp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/html/">html</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/nodejs/">nodejs</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Database</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/MySQL and Mriadb/">MySQL and Mriadb</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/atlas/">atlas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/MHA/">MHA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/redis/">redis</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/sqlite/">sqlite</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>PHP</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/php/">PHP</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/Laravel/">Laravel</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/PHP编码规范/">PHP编码规范</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Other Tools</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Docker/">Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Git</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#git">Git指南</a></li>
                
                    <li><a class="toctree-l4" href="#git_1">安装Git软件</a></li>
                
                    <li><a class="toctree-l4" href="#github">Github的使用</a></li>
                
                    <li><a class="toctree-l4" href="#_2">常用操作</a></li>
                
                    <li><a class="toctree-l4" href="#troubleshooting">TroubleShooting</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Chrome/">Chrome</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../curl/">curl</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Atom/">Atom</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../SVN/">SVN</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Openstack/">Openstack</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../shadowsocks/">shadowsocks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../fpm/">fpm</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../hexo/">hexo</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../phpmyadmin/">phpmyadmin</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Sublime Text/">Sublime Text</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../terminal/">terminal</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../vim/">vim</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../wireshark/">wireshark</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../wordpress/">wordpress</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../workbench/">workbench</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>server</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/apache/">apache</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/HAProxy/">HAProxy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/lamp/">lamp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/nginx/">nginx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/puppet/">puppet</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/saltstack/">saltstack</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/wamp/">wamp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/zabbix/">zabbix</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>system</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../system/装机必备/">装机必备</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../system/Android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../system/Linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../system/MAC OSX/">MAC OSX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../system/Raspberry Pi/">Raspberry Pi</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../system/Windows/">Windows</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>C and C++</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../C and C++/C/">C</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../C and C++/C++/">C++</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Java</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Java/java/">Tips</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">我的Wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Other Tools &raquo;</li>
        
      
    
    <li>Git</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="git">Git指南</h1>
<p>这里所列举的通用配置无论是在Windows还是Linux，都要用到</p>
<h2 id="git_1">安装Git软件</h2>
<p>Windows平台：<a href="http://msysgit.github.io/">Git for Windows</a>(在安装的时候注意那些选项的设置)<br />
Linux平台：<code>sudo apt-get install git</code></p>
<h3 id="_1">基础配置</h3>
<p>打开终端，在windows平台就用上一步安装上的git bash</p>
<pre><code># 全局配置，这里的用户名和邮箱填写你自己的帐号，可以是github上的帐号信息
git config --global user.name "haoflyent"
git config --global user.email "haoflynet@gmail.com"

# 如果要同一台机器多个git账户，那么可以取消全局设置
git config --global --unset user.name
git config --global --unset user.email
git config user.email "x@xx.com"    # 在仓库里面单独设置
git config user.name "xx"

# 生成密钥
ssh-keygen -t rsa -C "haoflynet@gmail.com"
# 然后一路默认就可以，注意看其中的密钥存放位置，其中公钥文件Windows默认为/c/Users/用户名/.ssh/id_rsa.pub# Linux默认为 ~/.ssh/rsa_pub
</code></pre>
<h2 id="github">Github的使用</h2>
<p>打开公钥文件，然后复制其中的内容到Github上的setting-&gt;SSH keys-&gt;Add SSH key，如下<br />
<img alt="" src="http://7xnc86.com1.z0.glb.clouddn.com/configuration-of-git_0.png" /><br />
点击Add Key后会要求输入github密码，因为这是特别敏感的操作<br />
然后进行新建仓库，无论是github还是其他托管网站都可以新建远程库，新建完成后都会提示你下一步该怎么做<br />
<img alt="" src="http://7xnc86.com1.z0.glb.clouddn.com/configuration-of-git_1.png" /><br />
按照上图给出 操作指南，有三种方法分别是
- 在本地建立一个新库，并新建一个README.md到远程库
- 直接将本地库的代码推送到远程库，不过在本地需要将文件夹编程一个库
- 从别的库导入代码到该库<br />
具体的命令在途中均有给出</p>
<h2 id="_2">常用操作</h2>
<pre><code>git log  # 查看提交的历史,--oneline按行显示，--graph查看分支的合并情况，--all显示所有分支的历史
git blame filename   # 查看某文件的改动历史
git diff + 分知名   # 比较当前分支和目标分支的不同
git diff master

# 版本回退,--harad表示将该次提交之前所有的更改都丢弃
git reset --hard HEAD^  # 回退到上一个版本
git reset --hard HEAD^^ # 回退到上上个版本
git reset --hard 233333 # 指定提交ID的回退

# 强制覆盖本地分支
git fetch --all
git reset --hard origin/master

# 标签操作
git tag                                     # 查看当前所有的标签
git tag v1.0.0                          # 在当前commit打一个标签
git tag -d v1.0.0                       # 删除一个标签
git push origin v1.0.0                  # 将打的标签推送到仓库
git push origin :refs/tags/v1.0.0       # 本地删除标签后远程也要删除
</code></pre>
<h2 id="troubleshooting">TroubleShooting</h2>
<ul>
<li><strong>git checkout -b dev origin/dev出现错误fatal: cannot update paths and switch to branch 'origin/dev'</strong>
 原因是未在远程创建dev分支，或者未在本地更新分支信息</li>
<li><strong>git remote add origin git@github.com:haoflynet/test，出现错误fatal: remote origin already exists</strong>原因是克隆别人的库下来修改后push到自己的库可能会出现这种错误，要先执行git remote rm origin  </li>
<li>
<p><strong>.gitignore无效，该忽略的依然没有被忽略</strong></p>
<pre><code>git rm -r --cached .
git add .
git commit -m "fixed untracked files
</code></pre>
<p>这样会删除github上面已经提交了的但是现在忽略了的文件，如果要在github上面保留一份，那么执行git add -f filename
- <strong>There was a problem with the editor 'vi' </strong>vi编辑器的问题吧，直接换成vim：<code>git config --global core.editor $(which vim)</code></p>
<hr />
<p>title: "Git多人协作开发指南"
  date: 2014-10-13 16:10:13
  categories: git</p>
<hr />
<p>参考文章：<a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd183612485
  78c67b8067c8c017b000/0013760174128707b935b0be6fc4fc6ace66c4f15618f8d000">廖雪峰的官方网站</a></p>
<p>虽然以前一直是在用Git开发自己的项目，但Git最强大的功能就是多人协作，这几天终于用上了。</p>
<p>前提：已经在Github上创建了库并创建了一个新的分支，假设新分支命名为dev</p>
<p># 同一远程库操作</p>
<pre><code>1. 抓取并创建本地分支：

      git clone git@github.com:haoflynet/test.git
  git branch            # 查看当前分支(只有master)
  git pull              # 如果是在克隆下来后再在远程仓库创建的dev分支，那么需要这一步‘
  git checkout -b dev origin/dev # 创建本地dev分支对应远程的origin/dev分支并切换到该分支

2. 在该分之下工作：修改、增加、创建
3. 将修改及时推送到远程dev分支(如果自己还未开发完就不忙推送到master分支)

      git add .   # 添加当前文件夹下的所有
  git commit -m "some modification"
  git push origin dev
</code></pre>
<p>这时就能在远程的dev分支下开到修改过后的内容了，当然master分支并没有被修改</p>
<pre><code>4. 修改并合并到master分支

      git checkout master    # 首先切换到本地的master分支
  git merge --no-ff      # 将本地的dev分支与本地的master分支合并
  git pull               # 获取远程索引

  # 这一步可能会冲突，原因当然是其他人在你之前对远程的master分支进行了修改并提交上去了

  # 如果没有错，就直接推送

  git push origin master
</code></pre>
<p>#  不同远程库操作</p>
<p>这种情况一般见于fork别人的仓库后，想要将别人的更改合并到自己当前本地的文件中。注意，本地其实有两个对应的远程库了，一个是自己的远程库(因为用的是fork
  )origin/master，默认的就是origin，一个是别人的远程库，比如other/master.</p>
<p>得先提交自己本地所做的更改，在本地提交即可</p>
<pre><code>  git add --all
  git commit -m "test"
</code></pre>
<p>首先就是要关联别人的远程库了</p>
<pre><code>  git remote add origin https://github.com/haoflynet/test.git  # 关联自己的远程库，命名为origin
  git remote add other https://github.com/someone/test.git # 关联别人的远程库命名为other
  git branch -a    # 查看所有的分支情况
  * master
    remotes/other/master
    remotes/origin/master
</code></pre>
<p>然后抓取别人的代码(这里其实只抓取了修改了的地方)</p>
<pre><code>  $ git fetch other   # 抓取别人的分支，这里的other就是git remote add 后面那个自定义名字
  remote: Counting objects: 887, done.
  remote: Compressing objects: 100\%(283/283), done.
  remote: Total 887 (delta 434), reused 868 (delta 415)R
  Receiving objects: 100\% (887/887), 1.26Mib | 60.00 KiB/s, done.
  Resolving deltas: 100\% (434/434), completed with 369 local objects.
  From github.com:someone/test
     6c1ad6a..c0e75ee master    -&gt; other/master
</code></pre>
<p>然后合并到本地的当前分支</p>
<pre><code>  git merge other/master

  # 如果有地方删除了，会显示这样的语句：

  Removing 文件名

  # 如果能够自动合并，会显示这样的语句：

  Auto-merging 文件名

  # 如果有冲突无法自动合并的，会显示这样的语句：

  CONFLICT (content): Merge conflict in 文件名
  Automatic merge failed; fix conflicts and then commit the result.
</code></pre>
<p>合并出现冲突过后，就需要手动进行修改了，不过放心，git已经自动将要修改的地方写在了你的文件里面了。可以这样查看</p>
<pre><code>  $git status

  # 首先会列出所有的修改

  modified: 文件

  # 最后会列出冲突文件

  Unmerged paths:
    (use "git add &lt;file&gt; ..." to mark resolution)
          both modified: app/routes.php
</code></pre>
<p>现在在编辑器里查看那个文件就会发现其中有类似这样的语句，自己去修改吧</p>
<pre><code>  &lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD
  这里是你本地的内容
  =======
  这里是远程的内容
  &gt;&gt;&gt;&gt;&gt;&gt;&gt; other/master
</code></pre>
</li>
</ul>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Chrome/" class="btn btn-neutral float-right" title="Chrome">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Docker/" class="btn btn-neutral" title="Docker"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Docker/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Chrome/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
