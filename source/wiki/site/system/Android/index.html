<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Android - 我的Wiki</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Android";
    var mkdocs_page_input_path = "system/Android.md";
    var mkdocs_page_url = "/system/Android/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> 我的Wiki</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>code</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/安全测试/">安全测试</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/编码经验/">编码经验</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/代码审查清单/">代码审查清单</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/正则表达式/">正则表达式</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/packages/">packages</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>python</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Django/">Django</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Flask/">Flask</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/kivy/">kivy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/pybrain/">pybrain</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Django/">Django</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/PyQT/">PyQT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/pytest/">pytest</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/python/">python</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Scrapy-PySpider/">Scrapy-PySpider</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Splinter/">Splinter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/string/">string</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Tornado/">Tornado</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>frontend</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/bootstrap/">bootstrap</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/js/">js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/css/">css</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/frontend/">frontend</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/gulp/">gulp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/html/">html</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/nodejs/">nodejs</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Database</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/MySQL and Mriadb/">MySQL and Mriadb</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/atlas/">atlas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/MHA/">MHA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/redis/">redis</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/sqlite/">sqlite</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>PHP</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/php/">PHP</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/Laravel/">Laravel</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/PHP编码规范/">PHP编码规范</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Other Tools</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Docker/">Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Git/">Git</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Chrome/">Chrome</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/curl/">curl</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Atom/">Atom</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/SVN/">SVN</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Openstack/">Openstack</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/shadowsocks/">shadowsocks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/fpm/">fpm</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/hexo/">hexo</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/phpmyadmin/">phpmyadmin</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Sublime Text/">Sublime Text</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/terminal/">terminal</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/vim/">vim</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/wireshark/">wireshark</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/wordpress/">wordpress</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/workbench/">workbench</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>server</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/apache/">apache</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/HAProxy/">HAProxy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/lamp/">lamp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/nginx/">nginx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/puppet/">puppet</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/saltstack/">saltstack</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/wamp/">wamp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/zabbix/">zabbix</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>system</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../装机必备/">装机必备</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Android</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#android">Android开发</a></li>
                
                    <li><a class="toctree-l4" href="#android-activity">Android Activity</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Linux/">Linux</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../MAC OSX/">MAC OSX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Raspberry Pi/">Raspberry Pi</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Windows/">Windows</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>C and C++</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../C and C++/C/">C</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../C and C++/C++/">C++</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Java</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Java/java/">Tips</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">我的Wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>system &raquo;</li>
        
      
    
    <li>Android</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="android">Android开发</h1>
<hr />
<p>title: "Android 奇淫技巧"
date: 2015-08-27 14:10:14
categories: android</p>
<hr />
<p>本文搜集了一些自己经常用到的Android方面的奇淫技巧：</p>
<ul>
<li>
<p>调试：打印日志的方式</p>
<pre><code>Log.v(String tag, String msg);  //verbose类型日志，颜色为黑色
</code></pre>
<p>Log.d(String tag, String msg);  //debug日志，颜色为蓝色
Log.i(String tag, String msg);  //information日志，颜色为绿色
Log.w(String tag, String msg); //warn告警日志，颜色为橙色
Log.e(String tag, String msg); //error错误日志，颜色肯定为红色</p>
</li>
<li>
<p>Toast提示框：</p>
<pre><code>import android.widget.Toast;
</code></pre>
<p>Toast.makeText(this,"显示内容", Toast.LENGTH_SHORT).show();</p>
</li>
<li>
<p>获取系统时间</p>
<pre><code>import    java.text.SimpleDateFormat;
</code></pre>
<p>SimpleDateFOrmat formatter = new SimpleDateFormat("yyyy年MM月日 HH:mm:ss");
Date curDate = new Date(System.currentTimeMillis()); // 获取当前时间
String str = formatter.formate(curDate);</p>
</li>
<li>
<p>获取当前地理位置</p>
<pre><code>public Location getLocation() \{
LocationManager locManger = (LocationManager) getSystemService(Context.LOCATION_SERVICE);
Location loc = locManger.getLastKnownLocation(LocationManager.GPS_PROVIDER);
if (loc == null) \{
    loc = locManger.getLastKnownLocation(LocationManager.NETWORK_PROVIDER);
\}
return loc;
</code></pre>
<p>}</p>
</li>
<li>
<p>让APP变成系统应用，无法卸载：必须root后通过re管理器进入/app目录，把安装包放在那里然后重启会自动安装</p>
</li>
<li>
<p>让APP开机自启动</p>
<pre><code>开机自启动
</code></pre>
<p><activity>
    <intent-filter>
        <action android:name="android.intent.action.BOOT_COMPLETED"/>
        <category android:name="android.intent.category.HOME" />
    </intent-filter>
</activity>
权限
<uses-permission android:name="android.permission.RECEIVE_BOOT_COMPLETED"></uses-permission></p>
</li>
<li>
<p>Android镜像下载慢的问题，使用<a href="http://sunjiajia.com/2015/08/16/tencent-bugly-android-sdk-mirror/" title="Link: http://sunjiajia.com/2015/08/16/tencent-bugly-android-sdk-mirror/">腾讯Bugly Android SDk 镜像</a></p>
</li>
<li>HTTP请求：</li>
<li>
<p>mainxml的设置  </p>
<pre><code># 使程序不现实在最近程序列表中
</code></pre>
<p><activity  android:excludeFromRecents="true"></></p>
</li>
<li></li>
</ul>
<h3 id="android-activity">Android Activity</h3>
<p>Activity生命周期的七个函数：<br />
<strong>onStart()</strong>：可以被用户看到的时候调用的方法<br />
<strong>onRestart()</strong>：从第二个返回第一个，因为第一个没被销毁<br />
<strong>onResume()</strong>：可以获得用户焦点的时候调用<br />
<strong>onPause()</strong>：从一个Activity换向另一个Activity时第一个会调用这个<br />
<strong>onStop()</strong>：当调完第二个时，第一个就调用这个，该Activity处于不可见时，而如果没有全部遮挡起来就不会调用第一个的onStop()方法了<br />
<strong>onDestroy()</strong>：如果点击返回，可能会调用这个，把第二个摧毁了    </p>
<hr />
<p>title: "新建Android项目时避免继承ActionBarActivity并去掉titleBar"
date: 2014-09-02 10:02:54
categories: Android</p>
<hr />
<p>大家都知道，在最新的SDK里新建项目时默认Activity是继承于ActionBarActivity而不是Activity，虽然这样做对于大多数用户是有好处
的(考虑到兼容性)，但许多用户都不习惯这样的做法，我们都喜欢更自由的方法，直接继承于Activity。</p>
<p>解决方法：<br />
<img alt="" src="http://7xnc86.com1.z0.glb.clouddn.com/android-unable.jpg" />  </p>
<p>在新建项目时Theme选择None，这样就可以直接继承了Activity，但是光这样做还是有titleBar出现，此时我们就要修改style文件(位于val
ue-vX这几个文件夹中)，将</p>
<p>style中标签中的parent修改为parent="@android:style/Theme.Light.NoTitleBar"即可</p>
<hr />
<p>title: "导入android项目：android.support.v7"
date: 2014-08-30 17:11:41
categories: Android</p>
<hr />
<p>问题原因：在高版本安卓SDK里导入低版本的SDK时出现的错误</p>
<p>背景知识：Google为开发者提供了Android Support Library
Package来保证高版本的SDK开发能够向下兼容，所以提供了Android Support
v4/v7/v13等几个包来分别照顾安卓1.6以上、安卓2.1以上和安卓3.2以上的版本。</p>
<p>解决方案：</p>
<p>我们在安装SDK的时候其实这几个jar包都已经在目录中了，所以可以直接在系统SDK安装目录里面搜索android-
support即可找到对应的jar包，我的SDK目录里能收到一下内容：</p>
<p>android-support-v4.jar<br />
android-support-v13.jar<br />
android-support-v7-appcompat.jar<br />
android-support-v7-gridlayout.jar<br />
android-support-v7-mediarouter.jar</p>
<p>找到对应的路径后，在项目名称上点击右键-&gt;构建路径-&gt;配置构建路径，在库(L)里面选择添加外部JAR(X)，然后在那个路径下面选择该jar即可。</p>
<hr />
<p>title: "导入android项目：Unable to resolve target 'android-14'"
date: 2014-08-30 16:57:50
categories: Android</p>
<hr />
<p>这是因为Android SDK的API版本不一致所致，一般出现在把低版本的安卓项目导入高版本安卓项目所致，因为我的Eclipse默认是Android
4.2.2(API 17)，即android-17，而该项目是Android 4.0(API
14)编写的，所以导入的时候需要修改项目的属性，具体API对照表可直接打开Android SDK Manager里面<br />
<img alt="" src="http://7xnc86.com1.z0.glb.clouddn.com/android-unable.jpg" /><br />
解决方案一：直接到该项目的工作目录下找到project.properties文件，修改</p>
<pre><code># Project target.
target=android-14
</code></pre>
<p>把其中的14改为默认的17即可。</p>
<p>解决方案二：安装android-14对应的SDK(即Android4.0)</p>
<p>handler是android中为了处理异步线程更新UI的问题而出现的一个工具。在android异步线程是不能够更新UI的，只能在主线程中更新UI。那么就要通过handle来更新。</p>
<p>handle不能直接写在Activity里，不然会报警告Handler Class Should be Static or Leaks Occur。应该这样写：
public class SampleActivity extends Activity {</p>
<p>/*<em>
   * Instances of static inner classes do not hold an implicit
   * reference to their outer class.
   </em>/
  private static class MyHandler extends Handler {
    private final WeakReference<SampleActivity> mActivity;</p>
<pre><code>public MyHandler(SampleActivity activity) {
  mActivity = new WeakReference&lt;SampleActivity&gt;(activity);
}

@Override
public void handleMessage(Message msg) {
  SampleActivity activity = mActivity.get();
  if (activity != null) {
    //
</code></pre>
<p>switch(msg.what){
 case 产量：
    String str1 = msg.getData().getString("变量名");break;
    default: break;
}
      }
    }
  }</p>
<p>private final MyHandler mHandler = new MyHandler(this);</p>
<p>/*<em>
   * Instances of anonymous classes do not hold an implicit
   * reference to their outer class when they are "static".
   </em>/
  private static final Runnable sRunnable = new Runnable() {
      @Override
      public void run() {</p>
<pre><code>    Message msg = new Message();
</code></pre>
<p>msg.what = 常量
Bundle bundle = new Bundle();
bundle.putString("变量名", "变量值");
bundle.putString("变量名", "变量值");
msg.setData(bundle);
mHandler.sendMessage(bundle);
        }
  };</p>
<p>@Override
  protected void onCreate(Bundle savedInstanceState) {
    super.onCreate(savedInstanceState);</p>
<pre><code>// Post a message and delay its execution for 10 minutes.
mHandler.postDelayed(sRunnable, 60 * 10 * 1000);

// Go back to the previous Activity.
finish();
</code></pre>
<p>}
}</p>
<p>来源： <a href="http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1106/1922.html">http://www.jcodecraeer.com/a/anzhuokaifa/androidkaifa/2014/1106/1922.html</a></p>
<p>package com.example.haofly.myapplication;</p>
<p>import android.app.Notification;
import android.app.PendingIntent;
import android.app.Service;
import android.content.Intent;
import android.os.Binder;
import android.os.IBinder;
import android.util.Log;</p>
<p>/*<em>
 * Created by haofly on 15/8/23.
 </em>/
public class LocalService extends Service{
    private IBinder binder = new LocalService.LocalBinder();</p>
<pre><code>@Override
public IBinder onBind(Intent intent){
    return binder;
}

@Override
public void onCreate(){
    Log.v("haofly", "create");
    int a = 1000;
    while(a &gt; 0){
        Log.v("haofly", "success");
        try {
            Thread.sleep(1000);
        } catch (InterruptedException e) {
            e.printStackTrace();
        }
        a = a-1;
    }
}


public class LocalBinder extends Binder {
    LocalService getService(){
        return LocalService.this;
    }
}

@Override
public int onStartCommand(Intent intent, int flags, int startId) {
    return super.onStartCommand(intent, flags, startId);
}
</code></pre>
<p>}</p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Linux/" class="btn btn-neutral float-right" title="Linux">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../装机必备/" class="btn btn-neutral" title="装机必备"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../装机必备/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Linux/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
