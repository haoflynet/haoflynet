<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  
  <title>Linux - 我的Wiki</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Linux";
    var mkdocs_page_input_path = "system/Linux.md";
    var mkdocs_page_url = "/system/Linux/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> 我的Wiki</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>code</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/安全测试/">安全测试</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/编码经验/">编码经验</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/代码审查清单/">代码审查清单</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/正则表达式/">正则表达式</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../code/packages/">packages</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>python</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Django/">Django</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Flask/">Flask</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/kivy/">kivy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/pybrain/">pybrain</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Django/">Django</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/PyQT/">PyQT</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/pytest/">pytest</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/python/">python</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Scrapy-PySpider/">Scrapy-PySpider</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Splinter/">Splinter</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/string/">string</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../python/Tornado/">Tornado</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>frontend</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/bootstrap/">bootstrap</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/js/">js</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/css/">css</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/frontend/">frontend</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/gulp/">gulp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/html/">html</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../frontend/nodejs/">nodejs</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Database</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/MySQL and Mriadb/">MySQL and Mriadb</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/atlas/">atlas</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/MHA/">MHA</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/redis/">redis</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Database/sqlite/">sqlite</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>PHP</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/php/">PHP</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/Laravel/">Laravel</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../PHP/PHP编码规范/">PHP编码规范</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Other Tools</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Docker/">Docker</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Git/">Git</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Chrome/">Chrome</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/curl/">curl</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Atom/">Atom</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/SVN/">SVN</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Openstack/">Openstack</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/shadowsocks/">shadowsocks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/fpm/">fpm</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/hexo/">hexo</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/phpmyadmin/">phpmyadmin</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/Sublime Text/">Sublime Text</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/terminal/">terminal</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/vim/">vim</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/wireshark/">wireshark</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/wordpress/">wordpress</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Other Tools/workbench/">workbench</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>server</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/apache/">apache</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/HAProxy/">HAProxy</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/lamp/">lamp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/nginx/">nginx</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/puppet/">puppet</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/saltstack/">saltstack</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/wamp/">wamp</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../server/zabbix/">zabbix</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>system</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../装机必备/">装机必备</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Android/">Android</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Linux</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#linux">Linux指南</a></li>
                
                    <li><a class="toctree-l4" href="#_1">基础安装</a></li>
                
                    <li><a class="toctree-l4" href="#tips">命令行Tips</a></li>
                
                    <li><a class="toctree-l4" href="#shell-script">Shell Script</a></li>
                
            
                <li class="toctree-l3"><a href="#troubleshooting">TroubleShooting</a></li>
                
                    <li><a class="toctree-l4" href="#linux_1">Linux下笔记本触摸板无法使用的问题</a></li>
                
                    <li><a class="toctree-l4" href="#ubuntu">Ubuntu无法调节屏幕亮度</a></li>
                
                    <li><a class="toctree-l4" href="#linux_2">Linux内核的更新</a></li>
                
                    <li><a class="toctree-l4" href="#deepin">Deepin升级时出现"这种情况的原因可能是本地依赖已经损坏"</a></li>
                
                    <li><a class="toctree-l4" href="#linux_3">Linux网卡设置</a></li>
                
                    <li><a class="toctree-l4" href="#virtualbox">Virtualbox虚拟机网卡丢失</a></li>
                
                    <li><a class="toctree-l4" href="#apt-get-updateunknown-error-executing-gpgv">apt-get update时出现Unknown error executing gpgv等问题</a></li>
                
                    <li><a class="toctree-l4" href="#centosnginxtengineconfigure-error-the-http-rewrite-requires-the-pcre-library">CentOS安装Nginx/Tengine出现"configure: error: the HTTP rewrite requires the PCRE library"</a></li>
                
                    <li><a class="toctree-l4" href="#utf8">全局中文utf8环境</a></li>
                
                    <li><a class="toctree-l4" href="#_2">免密码登录仍然要求输入密码</a></li>
                
                    <li><a class="toctree-l4" href="#centos7-netstatnmap">CentOS7 无法使用明林netstat，nmap</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../MAC OSX/">MAC OSX</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Raspberry Pi/">Raspberry Pi</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Windows/">Windows</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>C and C++</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../C and C++/C/">C</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../C and C++/C++/">C++</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Java</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Java/java/">Tips</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">我的Wiki</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>system &raquo;</li>
        
      
    
    <li>Linux</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="linux">Linux指南</h1>
<h2 id="_1">基础安装</h2>
<pre><code># CentOS
sudo yum install epel-release
</code></pre>
<h2 id="tips">命令行Tips</h2>
<p><strong>进程及端口</strong></p>
<pre><code># 查看端口占用情况
netstat -ap | grep 端口号   # 查看某一个端口
netstat -ntlp
top -p 进程ID：查看进程的实时情况，包括内存大小，内存占用率、CPU占用率，运行时间
cat /proc/进程ID/status：查看进程详细信息，包括线程数，线程名称，线程状态，占用内存大小
pstree -p 进程ID：查看线程的进程数以及进程ID
lsof -i :端口号   # 查看端口占用情况，不仅能看到哪个进程开启的端口，还能查看谁在使用该端口
lsof -i -n -P | egrep ':8000.+ESTABLISHED'   # 查看8000端口的连接列表
lsof -i -n -P | egrep -c ':8000.+ESTABLISHED' # 查看8000端口的连接数字
</code></pre>
<p><strong>查找与统计</strong></p>
<pre><code>ls -lR | grep "^-" | wc -l # 递归统计文件夹下所有文件的个数
grep -c "词语"   # 统计出现的次数
grep 字符串 文件名  # 在文件中查找某个字符串
grep ^字符串 文件名 # 在文件中查找以某字符串开始的行
grep [0-9] 文件名  # 在文件中查找包含数字的行
grep 字符串 -r 目录 # 在特定目录及其子目录中的文件查找str
find / -mmin -60    # 查找60分钟内修改的文章
</code></pre>
<p><strong>文件操作</strong></p>
<pre><code># 压缩
tar -czvf 结果.tar.gz 目标/    # 打包并使用gzip压缩
tar -cjvf 结果.tar.bz2 目标/   # 打包并使用bzip2压缩
zip *.zip file          # 压缩file为zip格式
zip -r *.zip file dir   # 压缩文件或目录一起为zip格式
zip -e 结果.zip 目标     # 压缩并加密(OSX可用)

# 解压
xz -d *.tar.xz
tar xvf *.tar
bunzip2 *.bz2   # 解压bz2文件
gunzip *.gz     # 解压gz文件

# 复制
cp 文件1 文件2
cp -r 目录1 目录2  # 递归复制
cp -a 目录1 目录2  # 递归复制目录，同时将文件属性也复制过去

# 文件分割
split -b 1024m   # 文件分隔-b表示按大小分隔，-l表示按行数分隔

# 查看文件内容
cat filename | more  # 表示分页查看文件内容

fdupes：快速查找重复文件

# 建立链接
软连接：ln -s 源 目的地
软连接可以给目录创建，如果删除了源文件不会有影响
硬连接：ln -d 源 目的地
硬连接不能给目录创建，对连接做的更改会影响源文件，只能在同一文件系统中创建

# 文件创建
mkdir -p path/2 # 创建目录树

# 找不同
diff 文件1 文件2   # 找出两个文件的不同
sdiff 文件1 文件2  # 以对比的方式找文件的不同
</code></pre>
<p><strong>远程ssh</strong></p>
<pre><code># 配置免密码登录
ssh-keygen -t dsa # 生成自己的ssh，然后将~/.ssh/id_dsa.pub的内容添加到主机的~/.ssh/authorized_keys里面面去

# CentOS下的安装
yum install openssh-clients

# 传输文件
scp 用户名@地址:远程路径 本地路径  # 获取/下载远程服务器的文件，目录加-r参数
scp 本地路径 用户名@地址:远程路径  # 将本地文件上传到远程目录，目录加-r

# 仅允许SSH登录，vim /etc/ssh/sshd_conf
PubkeyAuthentication yes
AuthorizedKeysFile .ssh/authorized_keys
PasswordAuthentication no

#保存，然后重启ssh服务
service sshd restart

# 进制特定IP登录，vim /etc/hosts.deny
sshd:IP
</code></pre>
<p><strong>包管理</strong></p>
<pre><code>dpkg -i # 安装deb包，但是它不会自动解决依赖，安装完成后还要使用apt-get -f install这条命令来安装没有安装好的依赖
apt-cache show 包名 # 显示apt库里面的软件的版本号
sudo apt-get clean # 自动清理安装程序时缓存的deb包
sudo apt-get autoclean  # 清理已卸载软件的无用的依赖包
rpm -ql 包名  # 查询已经安装的包的文件路径
</code></pre>
<p><strong>磁盘管理</strong></p>
<pre><code>sudo fdisk -lu   # 显示硬盘及分区情况
sudo fdisk /dev/sdb # 对某一硬盘进行分区(千万不要在当前硬盘进行分区)
sudo mkfs -t ext4 /dev/sdb   # 将硬盘格式化为ext4文件系统
sudo df -lh   # 显示硬盘挂载情况
sudo mount -t ext4 /dev/sdb /mydata  # 挂载某个分区文件为ext4
vim /etc/fstab中添加
UUID=硬盘的UUID  /挂载位置   ext4 defaults 0  0   # 在系统启动时自动挂载硬盘blkid /dev/sda1  查看硬盘UUID用sudo blkid
</code></pre>
<p><strong>用户管理</strong></p>
<pre><code># 添加用户
sudo useradd -s /bin/bash -d /home/username -m username

# 修改用户密码
sudo passwd username

# 给用户添加sudo权限
vim /etc/sudoers 修改如下内容
# User privilege specification  
root    ALL=(ALL:ALL) ALL      # 在这一行下面写  
username1 ALL=(ALL:ALL) ALL    # 该用户可以执行所有sudo操作
username2 ALL=NOPASSWD:/usr/bin/git # 该用户可以执行'sudo git'的操作

# 查看所有用户
cat /etc/passwd
</code></pre>
<p><strong>系统相关</strong>        </p>
<pre><code>lsb_release -a       // 查看系统信息
getconf WORD_BIT     // 查看系统位数
cat /proc/cpuinfo    # 查看CPU信息
cat /etc/issue     // Debian系列查看系统版本
cat /etc/redhat-release // redhat系列查看系统版本

# 更新系统
sudo apt-get install update-manager-core
sudo do-release-upgrade

# 系统开关
shutdown -h now # 关机
shutdown -r now # 重启
</code></pre>
<p><strong>防火墙</strong></p>
<pre><code>service iptables status     # 查询防火墙状态
vim /etc/sysconfig/iptables # 新增端口
service iptables restart    # 重启防火墙
</code></pre>
<p><strong>其他命令</strong></p>
<pre><code>history：查看历史命令，如果需要查看命令执行时间，需要先export HISTTIMEFORMAT='\%F \%T '
tzselect：更改时区
# 定时任务
crontab -e # 直接打开定时任务文件进行编辑
格式如下：
第1列：分钟
第2列：小时
第3列：日
第4列：月
第5列：星期
第6列：命令
其中，每一列可以逗号和小横线表示特殊的意义，比如
3,15 8-11 * * * 命令   # 表示在上午8点到11点的第3和15分钟执行
需要注意的是coontab是不会自动加载环境变量的哟，所以有时候发现命令没有被执行，可能是这个原因

# 命令命名，例如如果想通过python命令调用python3而不是默认的python2，那么可以这样子：
alias python=python3
alias pip=pip3
alias run8000='python manage.py runserver 0.0.0.0:8000'

# yes命令：重复输出字符串，不带参数则默认输出y。例如 `yes | apt-get install xxx`会默认输出y

# 网络相关
ifdown eth0 # 禁用eth网卡
ifup eth0
</code></pre>
<h2 id="shell-script">Shell Script</h2>
<p><strong>数据结构</strong></p>
<pre><code>VAR2=${VAR:-haofly} # 如果变量VAR不存在，后面就是它的默认值
VAR2=${VAR/.tar.gz} # 如果VAR的值为haofly.tar.gz，那么VAR2=haofly，一种替换
length=$(#array[@]}或者length=$(#array[*]} # 获取数组长度
</code></pre>
<p><strong>流程控制</strong></p>
<pre><code>if语句：
    -z：为空
    -n：不为空
    -gt：大于
</code></pre>
<p><strong>特殊符号</strong></p>
<pre><code>[[]]：双中括号，之间的字符不会发生文件名扩展或者单词分割
(())：双小括号，整数扩展，其中的变量可以不适用$符号前缀
$?：上一条命令的退出码
</code></pre>
<p><strong>日期处理</strong></p>
<pre><code>date +"%s"  # 按照时间戳来显示
date +"%m-%d-%y"    # mm-dd-yy格式
date +"%T"  # 仅显示时间，比如10:44:00

# 随机数
$RANDOM # 生成一个随机数

# 特殊操作
. /etc/*.conf       # 导入配置文件，这样配置文件里面的变量就可以直接使用了

find ./ -name "*.log" -mtime -1 | which read line; do tail -n 5 "$line" &gt; ~/bak/"$line"; done # 查找，然后按行进行执行
while read line do 语句 done  # 一行一行地进行处理，真正的处理

# awk：以行为单位将输入进行处理，貌似这里的处理智能进行print
    -F 参数将行做分割，例如：ps | awk -F ' ' '\{print $1\}'  # 将ps的第二列输出

# sed：同样以行为单位将输入进行处理
    -n 输出第几行，例如：ps | sed -n '1p'  # 将ps的第一行输出

# xargs：将上一个管道的输出直接作为这个管道的输入
    ps | grep python | awk -F ' ' '\{print $1\}' | xargs kill

date+\%Y-\%m-\%d   # 获取今天的日期
</code></pre>
<h1 id="troubleshooting">TroubleShooting</h1>
<h3 id="linux_1">Linux下笔记本触摸板无法使用的问题</h3>
<p>我的电脑是宏碁E1-471G, ubuntu13.04，以下几个方法依次尝试<br />
方法一：Fn + F7<br />
方法二：Ctrl + Fn + F7<br />
方法三：执行命令<code>sudo modprobe -r psmouse</code>然后<code>sudo modprobe psmouse proto=imps</code>同时，为了开机有效，新建文件/etc/modprobe.d/options，添加代码<code>options psmouse proto=imps</code></p>
<h3 id="ubuntu">Ubuntu无法调节屏幕亮度</h3>
<p>方法一：<br />
编辑/<code>etc/default/grub</code>文件，将<br />
<code>GRUB_CMDLINE_LINUX=""</code>修改为<code>GRUB_CMDLINE_LINUX="acpi_backlight=vendor"</code><br />
然后执行<code>sudo update-grub</code>更新grub<br />
然后编辑<code>/etc/rc.local</code>文件，在exit 0这行代码之前加上<code>echo 100 &gt; /sys/class/backlight/intel_backlight/brightness</code><br />
再重启  <br />
方法二：<br />
此方法来自<a href="http://www.ithome.com/html/soft/71265.htm">IT之家</a><br />
编辑文件<code>/usr/share/X11/xorg.conf.d/20-intel.conf</code>添加如下代码：</p>
<pre><code>Section "Device"
Identifier "card0"
Driver "intel"
Option "Backlight" "intel_backlight"
BusID "PCI:0:2:0"
EndSection
</code></pre>
<p>最后重启</p>
<h3 id="linux_2">Linux内核的更新</h3>
<p><strong>CentOS</strong>：<a href="http://cn.soulmachine.me/blog/20140123/">CentOS 6.5 升级内核到 3.10.28</a>
<strong>Ubuntu</strong>：<a href="http://blog.skyx.in/archives/216/">使用dpkg安装ubuntu内核</a></p>
<h3 id="deepin">Deepin升级时出现"这种情况的原因可能是本地依赖已经损坏"</h3>
<p>刚装上Deepin(2014.2)发现在应用商店升级时，有3个安装包无法升级(使用apt-get也提示无法升级)，原因可能是下载的包的依赖关系发生改变而引起的，解决方法如下：<br />
执行以下命令对这三个不能更新的包进行更新：</p>
<pre><code>sudo apt-get clean    清除已经下载的安装包
sudo apt-get update   重新更新软件列表
sudo apt-get dist-upgrade
</code></pre>
<p>dist-upgrade和upgrade的区别(参考网址:<a href="http://www.2cto.com/os/201301/183519.html">apt-get upgrade和dist-
upgrade的差别</a>)： 与upgrade不同的是，dist-upgrade能够忽略Packages中的相依性问题进行强制升级，在依赖关系前后发生改变后也仍然会进行升级。例如，软件包a原先依赖bcd，但是在源里面可能已经升级
了，现在是a依赖bce。这种情况下，dist-upgrade会删除d安装e，并把a软件包升级，而upgrade会认为以来关系改变而拒绝升级a软件包</p>
<h3 id="linux_3">Linux网卡设置</h3>
<p>查看网卡设置：</p>
<pre><code># ifconfig
enp2s0    Link encap:以太网  硬件地址 fc:aa:14:4e:ed:18    
          inet 地址:192.168.1.41  广播:192.168.1.255  掩码:255.255.255.0  
          inet6 地址: fe80::feaa:14ff:fe4e:ed18/64 Scope:Link  
          UP BROADCAST RUNNING MULTICAST  MTU:1500  跃点数:1  
          接收数据包:182927 错误:0 丢弃:0 过载:0 帧数:0  
          发送数据包:89825 错误:0 丢弃:0 过载:0 载波:0  
          碰撞:0 发送队列长度:1000   
          接收字节:203392327 (203.3 MB)  发送字节:7662359 (7.6 MB)

lo        Link encap:本地环回    
          inet 地址:127.0.0.1  掩码:255.0.0.0  
          inet6 地址: ::1/128 Scope:Host  
          UP LOOPBACK RUNNING  MTU:65536  跃点数:1  
          接收数据包:7423 错误:0 丢弃:0 过载:0 帧数:0  
          发送数据包:7423 错误:0 丢弃:0 过载:0 载波:0  
          碰撞:0 发送队列长度:0   
          接收字节:628267 (628.2 KB)  发送字节:628267 (628.2 KB)

# 一般lo表示本地还回，eth0表示以太网卡，wlan0表示无线网，但是有时候非常奇葩，比如我这里这台服务器的以太网卡叫enp2s0，我树莓派上的网卡叫什么wl0
</code></pre>
<p><strong>静态网络设置</strong>：</p>
<pre><code>**# vim /etc/network/interfaces  # 这里仅设置eth0网卡  
auto eth0  
iface eth0 inet static  
address 192.168.1.100  
netmask 255.255.255.0  
gateway 192.168.1.1

# vim /etc/resolv.conf  # 不知道为什么有次设置了上面的还是无法联网，再修改DNS设置就行
nameserver 192.168.1.1  # 这里加一行，这里的IP是我路由的IP，如果重启后又不能联网了，可能是这个文件又复原了。。。

# 重启网卡  
/etc/init.d/networking restart**
</code></pre>
<p><strong>WIFI网络设置</strong></p>
<pre><code>**$ vim /etc/network/interfaces  # 这里设置wlan0我那个卡
auto wlan0
allow-hotplug wlan0
iface wlan0 inet dhcp
wpa-ssid WIFI名称
wpa-psk WIFI密码

# 重启网卡  
sudo ifdown wlan0 &amp;&amp; sudo ifup wlan0
**
</code></pre>
<h3 id="virtualbox">Virtualbox虚拟机网卡丢失</h3>
<p>一般发生在采用以前的vdi新建虚拟机之后，发现只有lo网卡，eth0网卡丢失，修复过程如下：</p>
<pre><code># 首先使用如下命令查看可用的网卡
ifconfig -a  # 这不仅会显示lo网卡，还会显示其它可用的网卡，如eth0，名字不固定，比如我这次是eth1

# 记住上面以太网卡的名字，然后执行
sudo dhclient eth0   # 将该网卡打开

# 当然很有可能在网络设置里面没有该网卡，导致重启后依然无法联网的情况，我的网卡设置里就是eth0但现在应该变为eth1了，参考上面的/etc/network/interfaces文件
</code></pre>
<h3 id="apt-get-updateunknown-error-executing-gpgv">apt-get update时出现Unknown error executing gpgv等问题</h3>
<pre><code>cd /usr/local/lib/
mv libreadline* /temp
ldconfig
apt-get update
</code></pre>
<h3 id="centosnginxtengineconfigure-error-the-http-rewrite-requires-the-pcre-library">CentOS安装Nginx/Tengine出现"configure: error: the HTTP rewrite requires the PCRE library"</h3>
<pre><code>yum -y install pcre-devel openssl openssl-devel
</code></pre>
<h3 id="utf8">全局中文utf8环境</h3>
<pre><code># CentOS
localedef -i zh_CN -c -f UTF-8 zh_CN.utf-8
export LANG=zh_CN.UTF-8
然后全局生效,vim /etc/locale.conf
LANG=zh_CN.UTF-8
LC_COLLATE=zh_CN.UTF-8
</code></pre>
<h3 id="_2">免密码登录仍然要求输入密码</h3>
<pre><code># 权限问题
chmod 700 ~/.ssh
chmod 600 ~/.ssh/authorized_keys
</code></pre>
<h3 id="centos7-netstatnmap">CentOS7 无法使用明林netstat，nmap</h3>
<p>原因是CentOS7抛弃了这几个老旧的命令，使用新的命令进行<a href="https://dougvitale.wordpress.com/2011/12/21/deprecated-linux-networking-commands-and-their-replacements/#netstat">替代</a>了，如果要使用那几条命令，可以<code>yum install net-tools</code></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../MAC OSX/" class="btn btn-neutral float-right" title="MAC OSX">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Android/" class="btn btn-neutral" title="Android"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Android/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../MAC OSX/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
